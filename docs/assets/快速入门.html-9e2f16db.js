import{_ as l,V as i,W as u,Y as a,Z as n,$ as s,a1 as p,X as e,F as c}from"./framework-7e306a38.js";const d={},k=a("h2",{id:"添加依赖",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#添加依赖","aria-hidden":"true"},"#"),n(" 添加依赖")],-1),r={class:"hint-container tip"},m=a("p",{class:"hint-container-title"},"提示",-1),v={href:"https://search.maven.org/search?q=x-easypdf",title:"最新版本",target:"_blank",rel:"noopener noreferrer"},g=e(`<h3 id="全功能模块依赖" tabindex="-1"><a class="header-anchor" href="#全功能模块依赖" aria-hidden="true">#</a> 全功能模块依赖</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>wiki.xsx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>x-easypdf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>版本号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="单模块依赖" tabindex="-1"><a class="header-anchor" href="#单模块依赖" aria-hidden="true">#</a> 单模块依赖</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>wiki.xsx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>x-easypdf-fop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>版本号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用步骤" tabindex="-1"><a class="header-anchor" href="#使用步骤" aria-hidden="true">#</a> 使用步骤</h2><div class="hint-container info"><p class="hint-container-title">说明</p><p>以 thymeleaf 数据源为例</p></div><h3 id="_1-创建模板对象" tabindex="-1"><a class="header-anchor" href="#_1-创建模板对象" aria-hidden="true">#</a> 1. 创建模板对象</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">XEasyPdfTemplate</span> template <span class="token operator">=</span> <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Template</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,8),b={id:"_2-设置-fop-配置文件路径",tabindex:"-1"},f=a("a",{class:"header-anchor",href:"#_2-设置-fop-配置文件路径","aria-hidden":"true"},"#",-1),h=e(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>template<span class="token punctuation">.</span><span class="token function">setConfigPath</span><span class="token punctuation">(</span>configPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),x={id:"_3-设置数据源-并设置-xsl-fo-模板路径与模板数据",tabindex:"-1"},_=a("a",{class:"header-anchor",href:"#_3-设置数据源-并设置-xsl-fo-模板路径与模板数据","aria-hidden":"true"},"#",-1),q=e(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>template<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>
        <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>DataSource<span class="token punctuation">.</span>Thymeleaf</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setTemplatePath</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setTemplateData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-执行转换" tabindex="-1"><a class="header-anchor" href="#_4-执行转换" aria-hidden="true">#</a> 4. 执行转换</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>template<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="完整示例" tabindex="-1"><a class="header-anchor" href="#完整示例" aria-hidden="true">#</a> 完整示例</h2><div class="hint-container info"><p class="hint-container-title">说明</p><p>以 thymeleaf 数据源为例</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 定义fop配置文件路径</span>
<span class="token class-name">String</span> configPath <span class="token operator">=</span> <span class="token string">&quot;H:\\\\pdf\\\\template\\\\fop.xconf&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 定义xsl-fo模板路径</span>
<span class="token class-name">String</span> templatePath <span class="token operator">=</span> <span class="token string">&quot;H:\\\\pdf\\\\template\\\\thymeleaf\\\\template.fo&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 定义pdf输出路径</span>
<span class="token class-name">String</span> outputPath <span class="token operator">=</span> <span class="token string">&quot;E:\\\\pdf\\\\test\\\\fo\\\\thymeleaf.pdf&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 定义数据map</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置值</span>
data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 转换pdf</span>
<span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Template</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setConfigPath</span><span class="token punctuation">(</span>configPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>
        <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>DataSource<span class="token punctuation">.</span>Thymeleaf</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setTemplatePath</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setTemplateData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>fop 配置文件</summary><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token comment">&lt;!-- fop版本 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fop</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 当前路径（项目所在路径） --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 默认源图像 dpi（每英寸点数像素） --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source-resolution</span><span class="token punctuation">&gt;</span></span>72<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source-resolution</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 默认目标图像 dpi（每英寸点数像素），默认: 72dpi --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target-resolution</span><span class="token punctuation">&gt;</span></span>72<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target-resolution</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 默认页面宽度与高度（A4） --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>default-page-settings</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>21cm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>29.7cm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 渲染器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>renderers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- pdf 渲染器 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>renderer</span> <span class="token attr-name">mime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/pdf<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 过滤器 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filterList</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 默认使用 flate 依赖压缩 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>flate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filterList</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 字体 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fonts</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 自动扫描系统全部字体 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>auto-detect</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fonts</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>renderer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>renderers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fop</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>xsl-fo 模板</summary><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token comment">&lt;!--根标签--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>root</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>fo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/1999/XSL/Format<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--页面模板--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>layout-master-set</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--单页面模板--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>simple-page-master</span> <span class="token attr-name">master-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>A4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--页面区域主体--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-body</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>simple-page-master</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>layout-master-set</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--页面序列--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>page-sequence</span> <span class="token attr-name">master-reference</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>A4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--页面流--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>flow</span> <span class="token attr-name">flow-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xsl-region-body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--块--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>block</span> <span class="token attr-name">text-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${data}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>flow</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>page-sequence</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>root</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,8);function y(E,P){const o=c("ExternalLinkIcon"),t=c("RouterLink");return i(),u("div",null,[k,a("div",r,[m,a("p",null,[n("在 pom.xml 文件中加入以下一种依赖，最新版本请"),a("a",v,[n("点此查看"),s(o)])])]),g,a("h3",b,[f,n(" 2. 设置 "),s(t,{to:"/zh/guide/fop/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html"},{default:p(()=>[n("fop 配置文件")]),_:1}),n("路径")]),h,a("h3",x,[_,n(" 3. 设置"),s(t,{to:"/zh/guide/fop/%E6%95%B0%E6%8D%AE%E6%BA%90.html"},{default:p(()=>[n("数据源")]),_:1}),n("，并设置 "),s(t,{to:"/zh/guide/fop/xsl-fo/"},{default:p(()=>[n("xsl-fo 模板")]),_:1}),n("路径与模板数据")]),q])}const w=l(d,[["render",y],["__file","快速入门.html.vue"]]);export{w as default};
